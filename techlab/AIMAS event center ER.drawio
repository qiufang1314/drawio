<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.3 Safari/605.1.15" version="25.0.3">
  <diagram id="cqwV5BeqLcHTLlFLxRYO" name="第 1 页">
    <mxGraphModel dx="2572" dy="1148" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="M25IuV4nw5WfZ7Z8QbzV-4" value="" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-885" y="443" width="714" height="415" as="geometry" />
        </mxCell>
        <mxCell id="M25IuV4nw5WfZ7Z8QbzV-2" value="" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-812" y="-357" width="593" height="398" as="geometry" />
        </mxCell>
        <mxCell id="node4" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AIMAS_MARKETING_EVENT  /* 元数据事件表, 聚合根 */&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; BU_CODE: varchar(16)&lt;br&gt;&lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt; EVENT_CODE&lt;/font&gt;&lt;/b&gt;  /* 事件CODE, 业务唯一健 */: varchar(32)&lt;br&gt; EVENT_NAME  /* 事件名称 */: varchar(128)&lt;br&gt; REMARK  /* 备注 */: varchar(512)&lt;br&gt; DELETED  /* 0.Undeleted，1.Deleted */: smallint&lt;br&gt; CREATE_TIME  /* 创建时间 */: datetime&lt;br&gt; UPDATE_TIME  /* 更新时间 */: datetime&lt;br&gt; DB_LAST_UPDATE_TIME  /* 数据库更新时间 */: datetime&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-710" y="-270" width="392" height="256" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=-0.001;exitY=0.304;exitDx=0;exitDy=0;exitPerimeter=0;endArrow=none;endFill=0;" parent="1" source="node1" target="node4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AIMAS_MARKETING_EVENT_ENTITY  /* 元数据事件ENTITY */&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;BU_CODE: varchar(16)&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; EVENT_CODE  /* EVENT CODE */: varchar(32)&lt;br&gt; ENTITY_NAME  /* 实体名称 */: varchar(128)&lt;br&gt; ENTITY_CODE  /* 实体CODE */: varchar(128)&lt;br&gt; REMARK  /* 备注 */: varchar(512)&lt;br&gt; DELETED  /* 0.Undeleted，1.Deleted */: smallint&lt;br&gt; CREATE_TIME  /* 创建时间 */: datetime&lt;br&gt; UPDATE_TIME  /* 更新时间 */: datetime&lt;br&gt; DB_LAST_UPDATE_TIME  /* 数据库更新时间 */: datetime&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="49" y="-298" width="448" height="304" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;" parent="1" source="node2" target="node1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node2" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AIMAS_MARKETING_EVENT_ENTITY_DETAIL /* 元数据事件ENTITY FIELD */&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; BU_CODE: varchar(16)&lt;br&gt; ENTITY_CODE /* Entity &amp;nbsp;Code */: varchar(32)&lt;br&gt; FIELD_TYPE  /* 属性类型 0:基础属性，1:表达式属性（JsonArray等），2:enrichment属性（API获取） */: smallint&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;ENTITY_FIELD_ID BIGINT &quot;CDP Metadata attribute Entity table id&quot;&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;b style=&quot;caret-color: rgb(255, 51, 51); color: rgb(255, 51, 51);&quot;&gt;ENTITY_PARENT_FIELD_ID BIGINT &quot;CDP Metadata attribute Entity table id&quot;&lt;/b&gt;&lt;font color=&quot;#ff3333&quot;&gt;&lt;span style=&quot;caret-color: rgb(255, 51, 51);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt; FIELD_NAME  /* 字段名称，叶子节点的字段名称 */: varchar(255)&lt;br&gt; PATH_EXPRESS  /* 字段解析路径，JsonPath表达式 */: varchar(255)&lt;br&gt; DATA_TRANSFER  /* 数据实际类型可能与 业务类型不一致，比较前需要转换成统一的类型 */: varchar(255)&lt;br&gt; EXTRACT_TYPE  /* 字段为数组类型时，区分：遍历、或是聚合 */: varchar(255)&lt;br&gt;&lt;br&gt; IS_ENRICHMENT  /* 是否是enrichment字段 0.否，1.是 */: smallint&lt;br&gt; ENRICHMENT_CONFIG  /* enrichment配置信息 */: json&lt;br&gt; CONDITION_FLAG  /* 支持条件 0.否，1.支持 */: smallint&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt; SINK_FLAG  /* 支持输出 0.否，1.支持 */: smallint&lt;br&gt; REMARK  /* 备注 */: varchar(512)&lt;br&gt; DELETED  /* 0.Undeleted，1.Deleted */: smallint&lt;br&gt; CREATE_TIME  /* 创建时间 */: datetime&lt;br&gt; UPDATE_TIME  /* 更新时间 */: datetime&lt;br&gt; DB_LAST_UPDATE_TIME  /* 数据库更新时间 */: datetime&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-110" y="82" width="766" height="544" as="geometry" />
        </mxCell>
        <mxCell id="node0" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AIMAS_MARKETING_EVENT_HIERARCHY  /* 元数据分类表, 聚合根 */&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;HIERARCHY_CODE VARCHAR(32)&lt;/p&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; BU_CODE: varchar(16)&lt;br&gt; HIERARCHY_NAME  /* 分类名 */: varchar(64)&lt;br&gt; PARENT_HIERARCHY_CODE /* 父分类Id */: bigint&lt;br&gt; REMARK  /* 备注 */: varchar(512)&lt;br&gt; DELETED  /* 0.Undeleted，1.Deleted */: smallint&lt;br&gt; CREATE_TIME  /* 创建时间 */: datetime&lt;br&gt; UPDATE_TIME  /* 更新时间 */: datetime&lt;br&gt; DB_LAST_UPDATE_TIME  /* 数据库更新时间 */: datetime&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-761.5" y="520" width="495" height="256" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="node3" target="node4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;" parent="1" source="node3" target="node0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node3" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AIMAS_MARKETING_EVENT_HIERARCHY_EVENT  /* hierarchy 与 event 关联表 */&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; BU_CODE: varchar(16)&lt;br&gt; HIERARCHY_CODE /* HIERARCHY CODE */: varchar(32)&lt;br&gt; EVENT_CODE  /* 聚合根event id  */: varchar(32)&lt;br&gt; REMARK  /* 备注 */: varchar(512)&lt;br&gt; DELETED  /* 0.Undeleted，1.Deleted */: smallint&lt;br&gt; CREATE_TIME  /* 创建时间 */: datetime&lt;br&gt; UPDATE_TIME  /* 更新时间 */: datetime&lt;br&gt; DB_LAST_UPDATE_TIME  /* 数据库更新时间 */: datetime&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-805.5" y="160" width="583" height="256" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-8" value="EVENT_CODE： 1:N" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-310" y="-200" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-9" value="ENTITY_CODE： 1:N" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="144" y="6" width="133" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-10" value="EVENT_CODE： N:1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-510" y="120" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qb2hyEgqlL1vapCNd26Y-11" value="HIERARCHY_ID： 1:N" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-510" y="480" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="M25IuV4nw5WfZ7Z8QbzV-3" value="聚合根对象" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-556" y="-333" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="M25IuV4nw5WfZ7Z8QbzV-5" value="聚合根对象" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-683" y="473" width="143" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
